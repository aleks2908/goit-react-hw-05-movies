"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[500],{500:function(e,t,r){r.r(t),r.d(t,{default:function(){return g}});var a=r(861),n=r(439),o=r(757),s=r.n(o),c=r(87),i=r(447),u=r(689),l=r(243),f=r(791),p=r(596),m="Movies_listItem__YWcFi",h={form:"Searchbar_form__D-hp5",listItem:"Searchbar_listItem__2SCbN"},b=r(184),d=function(e){var t=e.onSubmit,r=(0,f.useState)(""),a=(0,n.Z)(r,2),o=a[0],s=a[1];return(0,b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o.toLowerCase().trim()),s("")):p.Am.warn("Please enter a film name",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},className:h.form,children:[(0,b.jsx)("input",{onChange:function(e){s(e.currentTarget.value)},type:"text",value:o,autoComplete:"off",autoFocus:!0}),(0,b.jsx)("button",{type:"submit",className:h.button,children:"Search"})]})},g=function(){var e=(0,u.s0)(),t=(0,f.useState)(""),r=(0,n.Z)(t,2),o=r[0],h=r[1],g=(0,u.TH)(),v=(0,c.lr)(),_=(0,n.Z)(v,1)[0],k=(0,f.useState)([]),x=(0,n.Z)(k,2),S=x[0],C=x[1],w=(0,f.useState)(!1),y=(0,n.Z)(w,2),j=y[0],Z=y[1],N=_.get("query");!o&&N&&h(N),(0,f.useEffect)((function(){if(o){var t=new AbortController;return Z(!0),function(){r.apply(this,arguments)}(),function(){t.abort()}}function r(){return(r=(0,a.Z)(s().mark((function r(){var a;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return"6b1b36ecf2f3f3c0d27307e18cbffcb3","https://api.themoviedb.org/3",r.prev=2,r.next=5,l.Z.get("".concat("https://api.themoviedb.org/3","/search/movie?api_key=").concat("6b1b36ecf2f3f3c0d27307e18cbffcb3","&query=").concat(o,"&page=",1),{signal:t.signal});case 5:if((a=r.sent).data.results.length){r.next=12;break}return Z(!1),e(""),C([]),p.Am.error("Sorry, no results were found for your search.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),r.abrupt("return");case 12:C(a.data.results),e("?query=".concat(o)),Z(!1),r.next=20;break;case 17:r.prev=17,r.t0=r.catch(2),console.log(r.t0);case 20:case"end":return r.stop()}}),r,null,[[2,17]])})))).apply(this,arguments)}}),[e,o]);return(0,b.jsxs)("main",{children:[(0,b.jsx)(d,{onSubmit:function(e){h(e)}}),j&&(0,b.jsx)(i.a,{}),(0,b.jsx)("ul",{children:S.map((function(e){var t=e.id,r=e.original_title;return(0,b.jsx)("li",{className:m,children:(0,b.jsx)(c.rU,{to:"/movies/".concat(t),state:{from:g},children:r})},t)}))})]})}}}]);
//# sourceMappingURL=500.a62168cb.chunk.js.map